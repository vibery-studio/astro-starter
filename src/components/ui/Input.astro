---
/**
 * Input - Dark OLED Luxury (Tailwind)
 */
interface Props {
	type?: 'text' | 'email' | 'password' | 'tel' | 'url' | 'number';
	name: string;
	label?: string;
	placeholder?: string;
	required?: boolean;
	disabled?: boolean;
	value?: string;
	error?: string;
	class?: string;
}

const {
	type = 'text',
	name,
	label,
	placeholder,
	required = false,
	disabled = false,
	value = '',
	error,
	class: className = ''
} = Astro.props;

const inputId = `input-${name}`;

const inputClasses = `w-full px-4 py-3 font-sans text-base text-white bg-[#0a0a0a] border rounded-lg transition-all duration-200 placeholder:text-white/40 focus:outline-none focus:border-emerald-500 focus:shadow-[0_0_0_3px_rgba(16,185,129,0.4)] disabled:opacity-60 disabled:cursor-not-allowed ${error ? 'border-red-500 focus:border-red-500 focus:shadow-[0_0_0_3px_rgba(239,68,68,0.4)]' : 'border-white/10'}`;
---

<div class:list={['flex flex-col gap-2', className]}>
	{label && (
		<label for={inputId} class="text-sm font-medium text-white/70">
			{label}
			{required && <span class="text-amber-500 ml-1" aria-hidden="true">*</span>}
		</label>
	)}
	<input
		type={type}
		id={inputId}
		name={name}
		placeholder={placeholder}
		required={required}
		disabled={disabled}
		value={value}
		class={inputClasses}
		aria-invalid={error ? 'true' : undefined}
		aria-describedby={error ? `${inputId}-error` : undefined}
	/>
	{error && (
		<p id={`${inputId}-error`} class="text-sm text-red-500 m-0" role="alert">
			{error}
		</p>
	)}
</div>
